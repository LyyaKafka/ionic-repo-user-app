<ion-header [translucent]="true">
  <ion-toolbar color="tertiary">
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title> Document </ion-title>
    <ion-buttons slot="end">
      <ion-back-button defaultHref="homepage"></ion-back-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <ion-refresher
    slot="fixed"
    [pullFactor]="0.5"
    [pullMin]="100"
    [pullMax]="150"
    (ionRefresh)="handleRefresh($event)"
  >
    <ion-refresher-content
      pullingIcon="chevron-down-circle-outline"
      pullingText="Pull to refresh"
      refreshingSpinner="circles"
      refreshingText="Refreshing..."
    >
    </ion-refresher-content>
  </ion-refresher>

  <ion-searchbar
    id="search"
    color="dark"
    [debounce]="500"
    animated
    (ionChange)="searchQuery($event)"
  ></ion-searchbar>

  <h1 class="ion-margin">Daftar Dokumen</h1>

  <ion-card>
    <ion-card-content>
      <ion-button size="small" expand="block" (click)="toCreate()">
        <ion-icon slot="start" name="add"></ion-icon>
        Add Document
      </ion-button>
    </ion-card-content>
  </ion-card>

  <ion-card
    *ngFor="let document of documentsShowData"
    button
    (click)="openDoc(document)"
  >
    <ion-card-content>
      <ion-card-title>{{ document.title }}</ion-card-title>
      <ion-card-subtitle
        ><b>{{ getDocVisibility(document) }}</b> {{ document.kategori
        }}</ion-card-subtitle
      >
      <h6 style="padding-top: 10px">Click To Open</h6>
    </ion-card-content>
  </ion-card>
</ion-content>

<ion-footer [translucent]="true">
  <ion-toolbar>
    <ion-row class="ion-justify-content-end">
      <ion-col
        ><ion-button
          fill="outline"
          color="medium"
          (click)="prevPage()"
          [disabled]="atFirstPage"
          ><ion-icon name="chevron-back-outline"></ion-icon>
          previous</ion-button
        ></ion-col
      >
      <ion-col size="auto"
        ><ion-button
          fill="outline"
          color="medium"
          (click)="nextPage()"
          [disabled]="atLastPage"
        >
          <ion-icon name="chevron-forward-outline"></ion-icon>next</ion-button
        ></ion-col
      >
    </ion-row>
  </ion-toolbar>
</ion-footer>
